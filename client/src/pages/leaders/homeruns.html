<template>
  <div repeat.for="player of leaders" class="row">
    <div class="list-row">
      <div class="col-md-1 col-md-offset-3">
        <div class="hr-count pull-right">
          ${player.Hr}
        </div>
      </div>
      <div class="col-md-1">
        <img src="${player.PlayerImage}" class="img-player img-responsive" />
      </div>
      <div class="col-md-6">
        <button click.delegate="toggleHistory(player)" class="btn btn-link" style="outline: none;">
          <div class="list-lead">${player.DisplayName}</div> 
        </button>
        <a if.bind="player.Hr7 >= 3" class='my-tool-tip' data-toggle="tooltip" data-placement="top" title="3+ HRs in past 7 days.">
          <span class="glyphicon glyphicon-fire" style="color:#E25822"></span>
        </a>
        <a if.bind="player.Hr14 == 0" class='my-tool-tip' data-toggle="tooltip" data-placement="top" title="No HRs in past 14 days.">
          <span class="glyphicon glyphicon-asterisk" style="color:#AAD4E5"></span>
        </a>
        <span id="spinner-${player.PlayerId}" style="display:none;" class="glyphicon glyphicon-cog spinning"></span>
        <div id="history-${player.PlayerId}" style="display:none;" class="col-md-9">
          <hr/>
          <div class="pull-left">
            <div repeat.for="item of player.history.recentHr">
              <div class="stat">
                <u>${item.date}</u> - <b>${item.hr}</b> ${item.location} ${item.opp}
              </div>
            </div>
          </div>
          <div class="pull-right stat">
            <div class="text-right">
              Last
              <u>7</u> Days: <b>${player.Hr7}</b>
            </div>
            <div class="text-right">
              Last
              <u>14</u> Days: <b>${player.Hr14}</b>
            </div>
            <div class="text-right">
              Last
              <u>30</u> Days: <b>${player.Hr30}</b>
            </div>
            <div class="text-right">
              <br/>
              <a route-href="route: player; params.bind: {id:player.PlayerId}">Player Page</a>
            </div>

          </div>
          <div class="clearfix"></div>
          <hr/>
        </div>
      </div>
    </div>
  </div>
</template>